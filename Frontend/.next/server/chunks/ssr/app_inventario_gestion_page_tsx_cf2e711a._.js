module.exports=[544,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(96313),e=a.i(21650),f=a.i(40695),g=a.i(3130),h=a.i(54161),i=a.i(5522),j=a.i(17171),k=a.i(87682),l=a.i(65733),m=a.i(88237),n=a.i(11300),o=a.i(15618),p=a.i(25015),q=a.i(48124),r=a.i(4720),s=a.i(41675),t=a.i(24987),u=a.i(73570),v=a.i(16201),w=a.i(41710);let x=[{id:"1",codigo:"INV-2025-001",tipo:"General",estado:"Abierto",fechaApertura:"2025-01-08",almacen:"PT9 NUEVO CEDIS",itemsContados:450,itemsTotales:1765,diferencias:0,responsable:"Carlos Mendoza"},{id:"2",codigo:"INV-2025-002",tipo:"Parcial",estado:"En Proceso",fechaApertura:"2025-01-05",almacen:"PT9 NUEVO CEDIS",bodega:"Bodega A",itemsContados:280,itemsTotales:320,diferencias:5,responsable:"María López"},{id:"3",codigo:"INV-2024-089",tipo:"General",estado:"Cerrado",fechaApertura:"2024-12-15",fechaCierre:"2024-12-18",almacen:"PT9 NUEVO CEDIS",itemsContados:1720,itemsTotales:1720,diferencias:12,responsable:"Juan Pérez"}];function y(){let[a,y]=(0,c.useState)(x),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)("all"),[H,I]=(0,c.useState)({tipo:"General",almacen:"",bodega:"",responsable:""}),J=a.filter(a=>"Abierto"===a.estado).length,K=a.filter(a=>"En Proceso"===a.estado).length,L=a.filter(a=>"Cerrado"===a.estado).length,M=a.filter(a=>"all"===F||a.estado===F),N=a=>{switch(a){case"Abierto":return(0,b.jsx)(h.Badge,{className:"bg-blue-600 text-white",children:"Abierto"});case"En Proceso":return(0,b.jsx)(h.Badge,{className:"bg-amber-500 text-white",children:"En Proceso"});case"Cerrado":return(0,b.jsx)(h.Badge,{className:"bg-green-600 text-white",children:"Cerrado"});default:return(0,b.jsx)(h.Badge,{children:a})}},O=(a,b)=>Math.round(a/b*100);return(0,b.jsx)(d.MainLayout,{children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(e.PageHeader,{title:"Gestión de Inventarios",description:"Apertura, seguimiento y cierre de inventarios",icon:(0,b.jsx)(n.ClipboardList,{className:"h-6 w-6"}),actions:(0,b.jsxs)(f.Button,{onClick:()=>A(!0),className:"bg-orange-500 hover:bg-orange-600",children:[(0,b.jsx)(o.Plus,{className:"h-4 w-4 mr-2"}),"Nuevo Inventario"]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsx)(g.Card,{className:"bg-blue-600 border-0",children:(0,b.jsx)(g.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-blue-100 text-sm",children:"Abiertos"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:J})]}),(0,b.jsx)(w.Clock,{className:"h-10 w-10 text-blue-200"})]})})}),(0,b.jsx)(g.Card,{className:"bg-amber-500 border-0",children:(0,b.jsx)(g.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-amber-100 text-sm",children:"En Proceso"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:K})]}),(0,b.jsx)(p.Play,{className:"h-10 w-10 text-amber-200"})]})})}),(0,b.jsx)(g.Card,{className:"bg-green-600 border-0",children:(0,b.jsx)(g.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-green-100 text-sm",children:"Cerrados"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:L})]}),(0,b.jsx)(v.CheckCircle,{className:"h-10 w-10 text-green-200"})]})})}),(0,b.jsx)(g.Card,{className:"bg-red-600 border-0",children:(0,b.jsx)(g.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-red-100 text-sm",children:"Con Diferencias"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:a.filter(a=>a.diferencias>0).length})]}),(0,b.jsx)(u.AlertTriangle,{className:"h-10 w-10 text-red-200"})]})})})]}),(0,b.jsx)(g.Card,{className:"bg-card border-border",children:(0,b.jsx)(g.CardContent,{className:"p-4",children:(0,b.jsx)("div",{className:"flex flex-wrap gap-4 items-end",children:(0,b.jsxs)("div",{className:"w-48",children:[(0,b.jsx)(j.Label,{className:"text-muted-foreground",children:"Estado"}),(0,b.jsxs)(k.Select,{value:F,onValueChange:G,children:[(0,b.jsx)(k.SelectTrigger,{className:"bg-background border-border",children:(0,b.jsx)(k.SelectValue,{placeholder:"Todos los estados"})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"all",children:"Todos"}),(0,b.jsx)(k.SelectItem,{value:"Abierto",children:"Abierto"}),(0,b.jsx)(k.SelectItem,{value:"En Proceso",children:"En Proceso"}),(0,b.jsx)(k.SelectItem,{value:"Cerrado",children:"Cerrado"})]})]})]})})})}),(0,b.jsxs)(g.Card,{className:"bg-card border-border",children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsx)(g.CardTitle,{className:"text-foreground",children:"Inventarios"})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)(m.Table,{children:[(0,b.jsx)(m.TableHeader,{children:(0,b.jsxs)(m.TableRow,{className:"border-border",children:[(0,b.jsx)(m.TableHead,{className:"text-muted-foreground",children:"Código"}),(0,b.jsx)(m.TableHead,{className:"text-muted-foreground",children:"Tipo"}),(0,b.jsx)(m.TableHead,{className:"text-muted-foreground",children:"Almacén/Bodega"}),(0,b.jsx)(m.TableHead,{className:"text-muted-foreground",children:"Fecha Apertura"}),(0,b.jsx)(m.TableHead,{className:"text-muted-foreground",children:"Progreso"}),(0,b.jsx)(m.TableHead,{className:"text-muted-foreground",children:"Diferencias"}),(0,b.jsx)(m.TableHead,{className:"text-muted-foreground",children:"Estado"}),(0,b.jsx)(m.TableHead,{className:"text-muted-foreground",children:"Responsable"}),(0,b.jsx)(m.TableHead,{className:"text-muted-foreground",children:"Acciones"})]})}),(0,b.jsx)(m.TableBody,{children:M.map(c=>(0,b.jsxs)(m.TableRow,{className:"border-border",children:[(0,b.jsx)(m.TableCell,{className:"text-foreground font-medium",children:c.codigo}),(0,b.jsx)(m.TableCell,{children:(0,b.jsx)(h.Badge,{variant:"outline",className:"General"===c.tipo?"border-purple-500 text-purple-500":"border-cyan-500 text-cyan-500",children:c.tipo})}),(0,b.jsx)(m.TableCell,{className:"text-foreground",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(t.MapPin,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{children:c.almacen}),c.bodega&&(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:c.bodega})]})]})}),(0,b.jsx)(m.TableCell,{className:"text-foreground",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(s.Calendar,{className:"h-4 w-4 text-muted-foreground"}),c.fechaApertura]})}),(0,b.jsx)(m.TableCell,{children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,b.jsxs)("span",{className:"text-muted-foreground",children:[c.itemsContados,"/",c.itemsTotales]}),(0,b.jsxs)("span",{className:"text-foreground",children:[O(c.itemsContados,c.itemsTotales),"%"]})]}),(0,b.jsx)("div",{className:"w-full bg-muted rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-orange-500 h-2 rounded-full transition-all",style:{width:`${O(c.itemsContados,c.itemsTotales)}%`}})})]})}),(0,b.jsx)(m.TableCell,{children:c.diferencias>0?(0,b.jsx)("span",{className:"text-red-500 font-medium",children:c.diferencias}):(0,b.jsx)("span",{className:"text-green-500",children:"0"})}),(0,b.jsx)(m.TableCell,{children:N(c.estado)}),(0,b.jsx)(m.TableCell,{className:"text-foreground",children:c.responsable}),(0,b.jsx)(m.TableCell,{children:(0,b.jsxs)("div",{className:"flex gap-2",children:["Abierto"===c.estado&&(0,b.jsxs)(f.Button,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>{y(a.map(a=>a.id===c.id?{...a,estado:"En Proceso"}:a))},children:[(0,b.jsx)(p.Play,{className:"h-3 w-3 mr-1"}),"Iniciar"]}),"En Proceso"===c.estado&&(0,b.jsxs)(f.Button,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>{y(a.map(a=>a.id===c.id?{...a,estado:"Cerrado",fechaCierre:new Date().toISOString().split("T")[0]}:a))},children:[(0,b.jsx)(q.Square,{className:"h-3 w-3 mr-1"}),"Cerrar"]}),(0,b.jsxs)(f.Button,{size:"sm",variant:"outline",onClick:()=>{E(c),C(!0)},children:[(0,b.jsx)(r.FileText,{className:"h-3 w-3 mr-1"}),"Reporte"]})]})})]},c.id))})]})})]}),(0,b.jsx)(l.Dialog,{open:z,onOpenChange:A,children:(0,b.jsxs)(l.DialogContent,{className:"bg-card border-border",children:[(0,b.jsx)(l.DialogHeader,{children:(0,b.jsx)(l.DialogTitle,{className:"text-foreground",children:"Nuevo Inventario"})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-muted-foreground",children:"Tipo de Inventario"}),(0,b.jsxs)(k.Select,{value:H.tipo,onValueChange:a=>I({...H,tipo:a}),children:[(0,b.jsx)(k.SelectTrigger,{className:"bg-background border-border",children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"General",children:"General (Todo el almacén)"}),(0,b.jsx)(k.SelectItem,{value:"Parcial",children:"Parcial (Por bodega/zona)"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-muted-foreground",children:"Almacén"}),(0,b.jsxs)(k.Select,{value:H.almacen,onValueChange:a=>I({...H,almacen:a}),children:[(0,b.jsx)(k.SelectTrigger,{className:"bg-background border-border",children:(0,b.jsx)(k.SelectValue,{placeholder:"Seleccionar almacén"})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"PT9 NUEVO CEDIS",children:"PT9 NUEVO CEDIS"}),(0,b.jsx)(k.SelectItem,{value:"PT5 CENTRAL",children:"PT5 CENTRAL"})]})]})]}),"Parcial"===H.tipo&&(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-muted-foreground",children:"Bodega/Zona"}),(0,b.jsxs)(k.Select,{value:H.bodega,onValueChange:a=>I({...H,bodega:a}),children:[(0,b.jsx)(k.SelectTrigger,{className:"bg-background border-border",children:(0,b.jsx)(k.SelectValue,{placeholder:"Seleccionar bodega"})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"Bodega A",children:"Bodega A"}),(0,b.jsx)(k.SelectItem,{value:"Bodega B",children:"Bodega B"}),(0,b.jsx)(k.SelectItem,{value:"Bodega C",children:"Bodega C"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{className:"text-muted-foreground",children:"Responsable"}),(0,b.jsx)(i.Input,{value:H.responsable,onChange:a=>I({...H,responsable:a.target.value}),placeholder:"Nombre del responsable",className:"bg-background border-border"})]})]}),(0,b.jsxs)(l.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>A(!1),children:"Cancelar"}),(0,b.jsx)(f.Button,{className:"bg-orange-500 hover:bg-orange-600",onClick:()=>{y([{id:Date.now().toString(),codigo:`INV-2025-${String(a.length+1).padStart(3,"0")}`,tipo:H.tipo,estado:"Abierto",fechaApertura:new Date().toISOString().split("T")[0],almacen:H.almacen,bodega:"Parcial"===H.tipo?H.bodega:void 0,itemsContados:0,itemsTotales:"General"===H.tipo?1765:320,diferencias:0,responsable:H.responsable},...a]),A(!1),I({tipo:"General",almacen:"",bodega:"",responsable:""})},disabled:!H.almacen||!H.responsable,children:"Crear Inventario"})]})]})}),(0,b.jsx)(l.Dialog,{open:B,onOpenChange:C,children:(0,b.jsxs)(l.DialogContent,{className:"bg-card border-border max-w-2xl",children:[(0,b.jsx)(l.DialogHeader,{children:(0,b.jsxs)(l.DialogTitle,{className:"text-foreground",children:["Reporte de Inventario - ",D?.codigo]})}),D&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tipo"}),(0,b.jsx)("p",{className:"text-lg font-medium text-foreground",children:D.tipo})]}),(0,b.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Estado"}),(0,b.jsx)("p",{className:"text-lg font-medium",children:N(D.estado)})]}),(0,b.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Items Contados"}),(0,b.jsxs)("p",{className:"text-lg font-medium text-foreground",children:[D.itemsContados," / ",D.itemsTotales]})]}),(0,b.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Diferencias"}),(0,b.jsx)("p",{className:`text-lg font-medium ${D.diferencias>0?"text-red-500":"text-green-500"}`,children:D.diferencias})]})]}),D.diferencias>0&&(0,b.jsxs)(g.Card,{className:"bg-red-500/10 border-red-500/20",children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)(g.CardTitle,{className:"text-red-500 text-sm flex items-center gap-2",children:[(0,b.jsx)(u.AlertTriangle,{className:"h-4 w-4"}),"Diferencias Encontradas"]})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)(m.Table,{children:[(0,b.jsx)(m.TableHeader,{children:(0,b.jsxs)(m.TableRow,{children:[(0,b.jsx)(m.TableHead,{className:"text-muted-foreground",children:"Producto"}),(0,b.jsx)(m.TableHead,{className:"text-muted-foreground",children:"Sistema"}),(0,b.jsx)(m.TableHead,{className:"text-muted-foreground",children:"Físico"}),(0,b.jsx)(m.TableHead,{className:"text-muted-foreground",children:"Diferencia"})]})}),(0,b.jsxs)(m.TableBody,{children:[(0,b.jsxs)(m.TableRow,{children:[(0,b.jsx)(m.TableCell,{className:"text-foreground",children:"PROD-001"}),(0,b.jsx)(m.TableCell,{className:"text-foreground",children:"150"}),(0,b.jsx)(m.TableCell,{className:"text-foreground",children:"147"}),(0,b.jsx)(m.TableCell,{className:"text-red-500",children:"-3"})]}),(0,b.jsxs)(m.TableRow,{children:[(0,b.jsx)(m.TableCell,{className:"text-foreground",children:"PROD-045"}),(0,b.jsx)(m.TableCell,{className:"text-foreground",children:"80"}),(0,b.jsx)(m.TableCell,{className:"text-foreground",children:"82"}),(0,b.jsx)(m.TableCell,{className:"text-green-500",children:"+2"})]})]})]})})]})]}),(0,b.jsxs)(l.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>C(!1),children:"Cerrar"}),(0,b.jsxs)(f.Button,{className:"bg-orange-500 hover:bg-orange-600",children:[(0,b.jsx)(r.FileText,{className:"h-4 w-4 mr-2"}),"Exportar PDF"]})]})]})})]})})}a.s(["default",()=>y])}];

//# sourceMappingURL=app_inventario_gestion_page_tsx_cf2e711a._.js.map