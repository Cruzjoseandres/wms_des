module.exports=[69891,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(3130),f=a.i(40695),g=a.i(5522),h=a.i(54161),i=a.i(88237),j=a.i(76504),k=a.i(56486),l=a.i(17171),m=a.i(87682),n=a.i(46893),o=a.i(65733),p=a.i(67900),q=a.i(96221),r=a.i(16201);function s({open:a,onOpenChange:d}){let{addOrganization:e}=(0,k.useAdminStore)(),[h,i]=(0,c.useState)(!1),[j,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)({name:"",slug:"",plan:"free",adminEmail:"",adminName:"",notes:""}),v=async a=>{a.preventDefault(),i(!0),await new Promise(a=>setTimeout(a,1500)),e({id:`org-${Date.now()}`,name:t.name,slug:t.slug,plan:t.plan,createdAt:new Date().toISOString().split("T")[0],usersCount:1,warehousesCount:0,isActive:!0}),i(!1),s(!0),setTimeout(()=>{s(!1),u({name:"",slug:"",plan:"free",adminEmail:"",adminName:"",notes:""}),d(!1)},2e3)};return j?(0,b.jsx)(o.Dialog,{open:a,onOpenChange:d,children:(0,b.jsx)(o.DialogContent,{className:"sm:max-w-md",children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-8",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center mb-4",children:(0,b.jsx)(r.CheckCircle,{className:"h-8 w-8 text-green-500"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-foreground mb-2",children:"Empresa Creada"}),(0,b.jsxs)("p",{className:"text-muted-foreground text-center",children:["La empresa ",(0,b.jsx)("strong",{children:t.name})," ha sido registrada exitosamente."]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Se ha enviado un correo de invitación a ",t.adminEmail]})]})})}):(0,b.jsx)(o.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(o.DialogContent,{className:"sm:max-w-lg",children:[(0,b.jsxs)(o.DialogHeader,{children:[(0,b.jsxs)(o.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(p.Building2,{className:"h-5 w-5 text-orange-500"}),"Nueva Empresa"]}),(0,b.jsx)(o.DialogDescription,{children:"Registra una nueva empresa en la plataforma SGLA WMS."})]}),(0,b.jsxs)("form",{onSubmit:v,children:[(0,b.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(l.Label,{htmlFor:"name",children:"Nombre de la Empresa *"}),(0,b.jsx)(g.Input,{id:"name",value:t.name,onChange:a=>{var b;return b=a.target.value,void u({...t,name:b,slug:b.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")})},placeholder:"Ej: Distribuidora ABC",required:!0})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(l.Label,{htmlFor:"slug",children:"Identificador (Slug)"}),(0,b.jsx)(g.Input,{id:"slug",value:t.slug,onChange:a=>u({...t,slug:a.target.value}),placeholder:"distribuidora-abc",className:"font-mono"}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["URL: app.sgla.com/",(0,b.jsx)("strong",{children:t.slug||"empresa"})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(l.Label,{htmlFor:"plan",children:"Plan de Suscripción *"}),(0,b.jsxs)(m.Select,{value:t.plan,onValueChange:a=>u({...t,plan:a}),children:[(0,b.jsx)(m.SelectTrigger,{children:(0,b.jsx)(m.SelectValue,{})}),(0,b.jsxs)(m.SelectContent,{children:[(0,b.jsx)(m.SelectItem,{value:"free",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-gray-500"}),"Free - Hasta 100 SKUs"]})}),(0,b.jsx)(m.SelectItem,{value:"pro",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Pro - Hasta 5,000 SKUs"]})}),(0,b.jsx)(m.SelectItem,{value:"enterprise",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),"Enterprise - Ilimitado"]})})]})]})]}),(0,b.jsxs)("div",{className:"border-t border-border pt-4 mt-2",children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-3",children:"Administrador Principal"}),(0,b.jsxs)("div",{className:"grid gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(l.Label,{htmlFor:"adminName",children:"Nombre Completo *"}),(0,b.jsx)(g.Input,{id:"adminName",value:t.adminName,onChange:a=>u({...t,adminName:a.target.value}),placeholder:"Juan Pérez",required:!0})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(l.Label,{htmlFor:"adminEmail",children:"Correo Electrónico *"}),(0,b.jsx)(g.Input,{id:"adminEmail",type:"email",value:t.adminEmail,onChange:a=>u({...t,adminEmail:a.target.value}),placeholder:"admin@empresa.com",required:!0})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(l.Label,{htmlFor:"notes",children:"Notas (Opcional)"}),(0,b.jsx)(n.Textarea,{id:"notes",value:t.notes,onChange:a=>u({...t,notes:a.target.value}),placeholder:"Información adicional sobre la empresa...",rows:3})]})]}),(0,b.jsxs)(o.DialogFooter,{children:[(0,b.jsx)(f.Button,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),(0,b.jsx)(f.Button,{type:"submit",disabled:h,className:"bg-orange-500 hover:bg-orange-600",children:h?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Creando..."]}):"Crear Empresa"})]})]})]})})}var t=a.i(87532),u=a.i(17755),v=a.i(77156),w=a.i(24569),x=a.i(81560),y=a.i(15618),z=a.i(60246),A=a.i(70893),B=a.i(41675),C=a.i(84505);function D(){let a=(0,d.useRouter)(),{organizations:l,setImpersonation:m,setViewMode:n}=(0,k.useAdminStore)(),[o,q]=(0,c.useState)(""),[r,D]=(0,c.useState)("all"),[E,F]=(0,c.useState)(!1),G=l.filter(a=>{let b=a.name.toLowerCase().includes(o.toLowerCase()),c="all"===r||a.plan===r;return b&&c});return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Gestión de Empresas"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Administra todas las organizaciones registradas"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(C.Download,{className:"w-4 h-4 mr-2"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Exportar"})]}),(0,b.jsxs)(f.Button,{className:"bg-orange-600 hover:bg-orange-700",onClick:()=>F(!0),children:[(0,b.jsx)(y.Plus,{className:"w-4 h-4 mr-2"}),"Nueva Empresa"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:(0,b.jsx)(p.Building2,{className:"w-5 h-5 text-blue-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xl sm:text-2xl font-bold",children:l.length}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Empresas"})]})]})})}),(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-green-500/20 rounded-lg",children:(0,b.jsx)(z.Users,{className:"w-5 h-5 text-green-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xl sm:text-2xl font-bold",children:l.reduce((a,b)=>a+b.usersCount,0)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Usuarios Totales"})]})]})})}),(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:(0,b.jsx)(A.Warehouse,{className:"w-5 h-5 text-purple-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xl sm:text-2xl font-bold",children:l.reduce((a,b)=>a+b.warehousesCount,0)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Almacenes Totales"})]})]})})}),(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-orange-500/20 rounded-lg",children:(0,b.jsx)(B.Calendar,{className:"w-5 h-5 text-orange-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xl sm:text-2xl font-bold",children:l.filter(a=>a.isActive).length}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Activas"})]})]})})})]}),(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(t.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,b.jsx)(g.Input,{placeholder:"Buscar empresa...",value:o,onChange:a=>q(a.target.value),className:"pl-10"})]}),(0,b.jsx)("div",{className:"flex gap-2 overflow-x-auto",children:["all","enterprise","pro","free"].map(a=>(0,b.jsx)(f.Button,{variant:r===a?"default":"outline",size:"sm",onClick:()=>D(a),className:r===a?"bg-orange-600 hover:bg-orange-700":"",children:"all"===a?"Todos":a.charAt(0).toUpperCase()+a.slice(1)},a))})]})})}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Empresas Registradas"}),(0,b.jsx)(e.CardDescription,{children:"Lista de todas las organizaciones en la plataforma"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(i.Table,{children:[(0,b.jsx)(i.TableHeader,{children:(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableHead,{children:"Empresa"}),(0,b.jsx)(i.TableHead,{children:"Plan"}),(0,b.jsx)(i.TableHead,{className:"text-center hidden sm:table-cell",children:"Usuarios"}),(0,b.jsx)(i.TableHead,{className:"text-center hidden md:table-cell",children:"Almacenes"}),(0,b.jsx)(i.TableHead,{className:"hidden lg:table-cell",children:"Fecha Registro"}),(0,b.jsx)(i.TableHead,{children:"Estado"}),(0,b.jsx)(i.TableHead,{className:"text-right",children:"Acciones"})]})}),(0,b.jsx)(i.TableBody,{children:G.map(c=>(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-orange-500/20 rounded-lg flex items-center justify-center shrink-0",children:(0,b.jsx)(p.Building2,{className:"w-5 h-5 text-orange-500"})}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("p",{className:"font-medium truncate",children:c.name}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:c.slug})]})]})}),(0,b.jsx)(i.TableCell,{children:(a=>{switch(a){case"enterprise":return(0,b.jsx)(h.Badge,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:"Enterprise"});case"pro":return(0,b.jsx)(h.Badge,{className:"bg-blue-500/20 text-blue-400 border-blue-500/30",children:"Pro"});default:return(0,b.jsx)(h.Badge,{className:"bg-gray-500/20 text-gray-400 border-gray-500/30",children:"Free"})}})(c.plan)}),(0,b.jsx)(i.TableCell,{className:"text-center hidden sm:table-cell",children:c.usersCount}),(0,b.jsx)(i.TableCell,{className:"text-center hidden md:table-cell",children:c.warehousesCount}),(0,b.jsx)(i.TableCell,{className:"hidden lg:table-cell",children:c.createdAt}),(0,b.jsx)(i.TableCell,{children:c.isActive?(0,b.jsx)(h.Badge,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:"Activa"}):(0,b.jsx)(h.Badge,{className:"bg-red-500/20 text-red-400 border-red-500/30",children:"Inactiva"})}),(0,b.jsx)(i.TableCell,{className:"text-right",children:(0,b.jsxs)(j.DropdownMenu,{children:[(0,b.jsx)(j.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(u.MoreHorizontal,{className:"w-4 h-4"})})}),(0,b.jsxs)(j.DropdownMenuContent,{align:"end",children:[(0,b.jsx)(j.DropdownMenuLabel,{children:"Acciones"}),(0,b.jsx)(j.DropdownMenuSeparator,{}),(0,b.jsxs)(j.DropdownMenuItem,{onClick:()=>{var b;let d;return b=c.id,void((d=l.find(a=>a.id===b))&&(m(b,d),n("CLIENT"),a.push("/")))},children:[(0,b.jsx)(v.Eye,{className:"w-4 h-4 mr-2"}),"Simular Acceso"]}),(0,b.jsxs)(j.DropdownMenuItem,{children:[(0,b.jsx)(w.Edit,{className:"w-4 h-4 mr-2"}),"Editar"]}),(0,b.jsx)(j.DropdownMenuSeparator,{}),(0,b.jsxs)(j.DropdownMenuItem,{className:"text-red-500",children:[(0,b.jsx)(x.Trash2,{className:"w-4 h-4 mr-2"}),"Eliminar"]})]})]})})]},c.id))})]})})})]}),(0,b.jsx)(s,{open:E,onOpenChange:F})]})}a.s(["default",()=>D],69891)}];

//# sourceMappingURL=app_super-admin_companies_page_tsx_9998a4b1._.js.map