{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/loader-circle.ts","../../../../components/auth/auth-guard.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('LoaderCircle', [\n  ['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }],\n]);\n\nexport default LoaderCircle;\n","\"use client\"\r\n\r\nimport type React from \"react\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { useRouter, usePathname } from \"next/navigation\"\r\nimport { useAdminStore } from \"@/lib/stores/admin-store\"\r\nimport { Loader2 } from \"lucide-react\"\r\n\r\ninterface AuthGuardProps {\r\n  children: React.ReactNode\r\n  requireSuperAdmin?: boolean\r\n}\r\n\r\nexport function AuthGuard({ children, requireSuperAdmin = false }: AuthGuardProps) {\r\n  const router = useRouter()\r\n  const pathname = usePathname()\r\n  const { isAuthenticated, isSuperAdmin } = useAdminStore()\r\n  const [isChecking, setIsChecking] = useState(true)\r\n\r\n  useEffect(() => {\r\n    // Small delay to allow hydration\r\n    const timer = setTimeout(() => {\r\n      if (!isAuthenticated) {\r\n        router.push(\"/login\")\r\n        return\r\n      }\r\n\r\n      // Check super admin routes\r\n      if (requireSuperAdmin && !isSuperAdmin) {\r\n        router.push(\"/\")\r\n        return\r\n      }\r\n\r\n      // If authenticated user tries to access super-admin without being super admin\r\n      if (pathname.startsWith(\"/super-admin\") && !isSuperAdmin) {\r\n        router.push(\"/\")\r\n        return\r\n      }\r\n\r\n      setIsChecking(false)\r\n    }, 100)\r\n\r\n    return () => clearTimeout(timer)\r\n  }, [isAuthenticated, isSuperAdmin, requireSuperAdmin, pathname, router])\r\n\r\n  if (isChecking) {\r\n    return (\r\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\r\n        <div className=\"flex flex-col items-center gap-4\">\r\n          <Loader2 className=\"h-8 w-8 animate-spin text-orange-500\" />\r\n          <p className=\"text-muted-foreground text-sm\">Verificando acceso...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return <>{children}</>\r\n}\r\n"],"names":[],"mappings":"uCAaM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAe,CAAf,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAe,OAAA,EAAiB,cAAgB,CAAA,CAAA,AACpD,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA,CAAA,AAAE,EAAG,CAA+B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAK,AAAL,QAAK,CAAU,CAAA,CAC7D,CAAA,CAAA,sECXD,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAOO,SAAS,EAAU,CAAE,UAAQ,CAAE,qBAAoB,CAAK,CAAkB,EAC/E,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAW,CAAA,EAAA,EAAA,WAAA,AAAW,IACtB,iBAAE,CAAe,cAAE,CAAY,CAAE,CAAG,CAAA,EAAA,EAAA,aAAA,AAAa,IACjD,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,SA4B7C,CA1BA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAER,IAAM,EAAQ,WAAW,KACvB,AAAK,EAMD,EANA,CAMqB,CAAC,GAMtB,EAAS,MAZS,GAMkB,CAMjB,CAAC,iBAAmB,CAAC,EAL1C,EAAO,IAAI,CAAC,KAK4C,AAK1D,GAAc,GAhBZ,EAAO,IAAI,CAAC,SAiBhB,EAAG,KAEH,MAAO,IAAM,aAAa,EAC5B,EAAG,CAAC,EAAiB,EAAc,EAAmB,EAAU,EAAO,EAEnE,GAEA,CAAA,EAAA,EAAA,GAAA,CAFY,CAEX,MAAA,CAAI,UAAU,uEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,yCACnB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,+BAM9C,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,QAAA,CAAA,UAAG,GACZ","ignoreList":[0]}