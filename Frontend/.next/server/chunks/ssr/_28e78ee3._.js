module.exports=[3130,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},84505,a=>{"use strict";let b=(0,a.i(70106).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);a.s(["Download",()=>b],84505)},54161,a=>{"use strict";var b=a.i(87924),c=a.i(11011),d=a.i(187),e=a.i(97895);let f=(0,d.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function g({className:a,variant:d,asChild:g=!1,...h}){let i=g?c.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(f({variant:d}),a),...h})}a.s(["Badge",()=>g])},15618,a=>{"use strict";let b=(0,a.i(70106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},73320,a=>{"use strict";let b=(0,a.i(70106).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);a.s(["Upload",()=>b],73320)},21650,a=>{"use strict";var b=a.i(87924),c=a.i(40695),d=a.i(15618),e=a.i(73320),f=a.i(84505);function g({title:a,description:g,onNew:h,newLabel:i="Nuevo",onImport:j,onExport:k,children:l}){return(0,b.jsxs)("div",{className:"flex flex-col gap-3 sm:gap-4 mb-4 sm:mb-6",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-foreground truncate",children:a}),g&&(0,b.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1 line-clamp-2",children:g})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[l,k&&(0,b.jsxs)(c.Button,{variant:"outline",onClick:k,className:"bg-secondary border-border text-xs sm:text-sm h-8 sm:h-9 px-2 sm:px-3",children:[(0,b.jsx)(f.Download,{className:"w-3 h-3 sm:w-4 sm:h-4 sm:mr-2"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Exportar"})]}),j&&(0,b.jsxs)(c.Button,{variant:"outline",onClick:j,className:"bg-secondary border-border text-xs sm:text-sm h-8 sm:h-9 px-2 sm:px-3",children:[(0,b.jsx)(e.Upload,{className:"w-3 h-3 sm:w-4 sm:h-4 sm:mr-2"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Importar"})]}),h&&(0,b.jsxs)(c.Button,{onClick:h,className:"bg-primary text-primary-foreground hover:bg-primary/90 text-xs sm:text-sm h-8 sm:h-9 px-2 sm:px-3",children:[(0,b.jsx)(d.Plus,{className:"w-3 h-3 sm:w-4 sm:h-4 sm:mr-2"}),(0,b.jsx)("span",{className:"hidden xs:inline",children:i})]})]})]})}a.s(["PageHeader",()=>g])},41710,a=>{"use strict";let b=(0,a.i(70106).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],41710)},46893,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("textarea",{"data-slot":"textarea",className:(0,c.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...d})}a.s(["Textarea",()=>d])},62722,a=>{"use strict";let b=(0,a.i(70106).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],62722)},53114,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(96313),e=a.i(21650),f=a.i(54161),g=a.i(40695),h=a.i(3130),i=a.i(5522),j=a.i(17171),k=a.i(46893),l=a.i(65733),m=a.i(87682),n=a.i(26908),o=a.i(87532),p=a.i(73570),q=a.i(16201),r=a.i(62722),s=a.i(41710);let t=[{id:"1",tipo:"ingreso",documento:"ING-2024-0045",fechaSolicitud:"2024-12-05",solicitante:"Carlos Pérez",motivo:"Error en cantidad recibida",estado:"pendiente"},{id:"2",tipo:"salida",documento:"SAL-2024-0123",fechaSolicitud:"2024-12-04",solicitante:"María López",motivo:"Pedido duplicado por error del sistema",estado:"aprobada",fechaResolucion:"2024-12-05",aprobador:"Admin Sistema"},{id:"3",tipo:"pedido",documento:"PED-2024-0089",fechaSolicitud:"2024-12-03",solicitante:"Juan García",motivo:"Cliente canceló el pedido",estado:"aprobada",fechaResolucion:"2024-12-04",aprobador:"Admin Sistema"},{id:"4",tipo:"ingreso",documento:"ING-2024-0042",fechaSolicitud:"2024-12-02",solicitante:"Ana Martínez",motivo:"Productos dañados en recepción",estado:"rechazada",fechaResolucion:"2024-12-03",aprobador:"Supervisor"},{id:"5",tipo:"inventario",documento:"INV-2024-0012",fechaSolicitud:"2024-12-06",solicitante:"Pedro Sánchez",motivo:"Conteo erróneo, requiere reconteo",estado:"pendiente"}];function u(){let[a,u]=(0,c.useState)(t),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)("todos"),[B,C]=(0,c.useState)("todos"),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)({tipo:"",documento:"",motivo:""}),H={pendientes:a.filter(a=>"pendiente"===a.estado).length,aprobadas:a.filter(a=>"aprobada"===a.estado).length,rechazadas:a.filter(a=>"rechazada"===a.estado).length,total:a.length},I=a.filter(a=>{let b="todos"===z||a.estado===z,c="todos"===B||a.tipo===B,d=a.documento.toLowerCase().includes(D.toLowerCase())||a.solicitante.toLowerCase().includes(D.toLowerCase());return b&&c&&d}),J=[{key:"tipo",label:"Tipo",render:a=>(0,b.jsx)(f.Badge,{variant:"outline",className:"ingreso"===a.tipo?"border-blue-500 text-blue-500":"salida"===a.tipo?"border-orange-500 text-orange-500":"pedido"===a.tipo?"border-purple-500 text-purple-500":"border-green-500 text-green-500",children:a.tipo.charAt(0).toUpperCase()+a.tipo.slice(1)})},{key:"documento",label:"Documento"},{key:"fechaSolicitud",label:"Fecha Solicitud"},{key:"solicitante",label:"Solicitante"},{key:"motivo",label:"Motivo"},{key:"estado",label:"Estado",render:a=>(0,b.jsxs)(f.Badge,{className:"pendiente"===a.estado?"bg-yellow-600":"aprobada"===a.estado?"bg-green-600":"bg-red-600",children:["pendiente"===a.estado&&(0,b.jsx)(s.Clock,{className:"w-3 h-3 mr-1"}),"aprobada"===a.estado&&(0,b.jsx)(q.CheckCircle,{className:"w-3 h-3 mr-1"}),"rechazada"===a.estado&&(0,b.jsx)(r.XCircle,{className:"w-3 h-3 mr-1"}),a.estado.charAt(0).toUpperCase()+a.estado.slice(1)]})}];return(0,b.jsxs)(d.MainLayout,{children:[(0,b.jsx)(e.PageHeader,{title:"Gestión de Anulaciones",description:"Solicitudes de anulación de documentos",onNew:()=>{G({tipo:"",documento:"",motivo:""}),w(!0)},newLabel:"Nueva Solicitud"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,b.jsx)(h.Card,{className:"bg-yellow-500/10 border-yellow-500/30",children:(0,b.jsx)(h.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(s.Clock,{className:"w-8 h-8 text-yellow-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-yellow-500",children:H.pendientes}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pendientes"})]})]})})}),(0,b.jsx)(h.Card,{className:"bg-green-500/10 border-green-500/30",children:(0,b.jsx)(h.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(q.CheckCircle,{className:"w-8 h-8 text-green-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-green-500",children:H.aprobadas}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Aprobadas"})]})]})})}),(0,b.jsx)(h.Card,{className:"bg-red-500/10 border-red-500/30",children:(0,b.jsx)(h.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(r.XCircle,{className:"w-8 h-8 text-red-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-red-500",children:H.rechazadas}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Rechazadas"})]})]})})}),(0,b.jsx)(h.Card,{className:"bg-blue-500/10 border-blue-500/30",children:(0,b.jsx)(h.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(n.FileX,{className:"w-8 h-8 text-blue-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold text-blue-500",children:H.total}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total"})]})]})})})]}),(0,b.jsx)(h.Card,{className:"mb-6",children:(0,b.jsx)(h.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,b.jsx)("div",{className:"flex-1 min-w-[200px]",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(o.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,b.jsx)(i.Input,{placeholder:"Buscar por documento o solicitante...",value:D,onChange:a=>E(a.target.value),className:"pl-10 bg-secondary border-border"})]})}),(0,b.jsxs)(m.Select,{value:B,onValueChange:C,children:[(0,b.jsx)(m.SelectTrigger,{className:"w-[150px] bg-secondary border-border",children:(0,b.jsx)(m.SelectValue,{placeholder:"Tipo"})}),(0,b.jsxs)(m.SelectContent,{children:[(0,b.jsx)(m.SelectItem,{value:"todos",children:"Todos los tipos"}),(0,b.jsx)(m.SelectItem,{value:"ingreso",children:"Ingreso"}),(0,b.jsx)(m.SelectItem,{value:"salida",children:"Salida"}),(0,b.jsx)(m.SelectItem,{value:"pedido",children:"Pedido"}),(0,b.jsx)(m.SelectItem,{value:"inventario",children:"Inventario"})]})]}),(0,b.jsxs)(m.Select,{value:z,onValueChange:A,children:[(0,b.jsx)(m.SelectTrigger,{className:"w-[150px] bg-secondary border-border",children:(0,b.jsx)(m.SelectValue,{placeholder:"Estado"})}),(0,b.jsxs)(m.SelectContent,{children:[(0,b.jsx)(m.SelectItem,{value:"todos",children:"Todos"}),(0,b.jsx)(m.SelectItem,{value:"pendiente",children:"Pendiente"}),(0,b.jsx)(m.SelectItem,{value:"aprobada",children:"Aprobada"}),(0,b.jsx)(m.SelectItem,{value:"rechazada",children:"Rechazada"})]})]})]})})}),(0,b.jsx)(h.Card,{children:(0,b.jsx)(h.CardContent,{className:"p-0",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-border bg-muted/50",children:[J.map(a=>(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:a.label},a.key)),(0,b.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium text-muted-foreground",children:"Acciones"})]})}),(0,b.jsx)("tbody",{children:I.map(c=>(0,b.jsxs)("tr",{className:"border-b border-border hover:bg-muted/30",children:[J.map(a=>(0,b.jsx)("td",{className:"px-4 py-3 text-sm",children:a.render?a.render(c):c[a.key]},a.key)),(0,b.jsxs)("td",{className:"px-4 py-3 text-right",children:["pendiente"===c.estado&&(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsxs)(g.Button,{size:"sm",variant:"outline",className:"border-green-500 text-green-500 hover:bg-green-500/10 bg-transparent",onClick:()=>{u(a.map(a=>a.id===c.id?{...a,estado:"aprobada",fechaResolucion:new Date().toISOString().split("T")[0],aprobador:"Admin"}:a))},children:[(0,b.jsx)(q.CheckCircle,{className:"w-4 h-4 mr-1"}),"Aprobar"]}),(0,b.jsxs)(g.Button,{size:"sm",variant:"outline",className:"border-red-500 text-red-500 hover:bg-red-500/10 bg-transparent",onClick:()=>{u(a.map(a=>a.id===c.id?{...a,estado:"rechazada",fechaResolucion:new Date().toISOString().split("T")[0],aprobador:"Admin"}:a))},children:[(0,b.jsx)(r.XCircle,{className:"w-4 h-4 mr-1"}),"Rechazar"]})]}),"pendiente"!==c.estado&&(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:[c.aprobador," - ",c.fechaResolucion]})]})]},c.id))})]})})})}),(0,b.jsx)(l.Dialog,{open:v,onOpenChange:w,children:(0,b.jsxs)(l.DialogContent,{className:"bg-card border-border",children:[(0,b.jsx)(l.DialogHeader,{children:(0,b.jsx)(l.DialogTitle,{children:"Nueva Solicitud de Anulación"})}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{children:"Tipo de Documento *"}),(0,b.jsxs)(m.Select,{value:F.tipo,onValueChange:a=>G({...F,tipo:a}),children:[(0,b.jsx)(m.SelectTrigger,{className:"bg-secondary border-border",children:(0,b.jsx)(m.SelectValue,{placeholder:"Seleccionar tipo"})}),(0,b.jsxs)(m.SelectContent,{children:[(0,b.jsx)(m.SelectItem,{value:"ingreso",children:"Ingreso"}),(0,b.jsx)(m.SelectItem,{value:"salida",children:"Salida"}),(0,b.jsx)(m.SelectItem,{value:"pedido",children:"Pedido"}),(0,b.jsx)(m.SelectItem,{value:"inventario",children:"Inventario"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"documento",children:"Número de Documento *"}),(0,b.jsx)(i.Input,{id:"documento",value:F.documento,onChange:a=>G({...F,documento:a.target.value}),placeholder:"Ej: ING-2024-0045",className:"bg-secondary border-border"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"motivo",children:"Motivo de Anulación *"}),(0,b.jsx)(k.Textarea,{id:"motivo",value:F.motivo,onChange:a=>G({...F,motivo:a.target.value}),placeholder:"Describa el motivo de la anulación...",className:"bg-secondary border-border min-h-[100px]"})]}),(0,b.jsx)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(p.AlertTriangle,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),(0,b.jsx)("p",{className:"text-sm text-yellow-500",children:"La anulación quedará pendiente de aprobación por un supervisor. Una vez aprobada, los cambios serán irreversibles."})]})})]}),(0,b.jsxs)(l.DialogFooter,{children:[(0,b.jsx)(g.Button,{variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),(0,b.jsx)(g.Button,{onClick:()=>{u([{id:String(Date.now()),tipo:F.tipo,documento:F.documento,fechaSolicitud:new Date().toISOString().split("T")[0],solicitante:"Usuario Actual",motivo:F.motivo,estado:"pendiente"},...a]),w(!1)},disabled:!F.tipo||!F.documento||!F.motivo,className:"bg-orange-500 hover:bg-orange-600",children:"Enviar Solicitud"})]})]})})]})}a.s(["default",()=>u])}];

//# sourceMappingURL=_28e78ee3._.js.map