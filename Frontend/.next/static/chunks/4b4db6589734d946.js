(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var a=e.i(43476),t=e.i(47163);function s({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function i({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...s})}function o({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...s})}function d({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>d,"CardDescription",()=>o,"CardHeader",()=>r,"CardTitle",()=>i])},99682,e=>{"use strict";var a=e.i(71645);function t(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}e.s(["usePrevious",()=>t])},40160,e=>{"use strict";let a=(0,e.i(75254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",()=>a],40160)},94179,e=>{"use strict";var a=e.i(43476),t=e.i(91918),s=e.i(25913),r=e.i(47163);let i=(0,s.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:s,asChild:o=!1,...d}){let l=o?t.Slot:"span";return(0,a.jsx)(l,{"data-slot":"badge",className:(0,r.cn)(i({variant:s}),e),...d})}e.s(["Badge",()=>o])},7233,e=>{"use strict";let a=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>a],7233)},69074,e=>{"use strict";let a=(0,e.i(75254).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);e.s(["Upload",()=>a],69074)},38184,e=>{"use strict";var a=e.i(43476),t=e.i(67881),s=e.i(7233),r=e.i(69074),i=e.i(40160);function o({title:e,description:o,onNew:d,newLabel:l="Nuevo",onImport:n,onExport:c,children:m}){return(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:gap-4 mb-4 sm:mb-6",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-foreground truncate",children:e}),o&&(0,a.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1 line-clamp-2",children:o})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[m,c&&(0,a.jsxs)(t.Button,{variant:"outline",onClick:c,className:"bg-secondary border-border text-xs sm:text-sm h-8 sm:h-9 px-2 sm:px-3",children:[(0,a.jsx)(i.Download,{className:"w-3 h-3 sm:w-4 sm:h-4 sm:mr-2"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Exportar"})]}),n&&(0,a.jsxs)(t.Button,{variant:"outline",onClick:n,className:"bg-secondary border-border text-xs sm:text-sm h-8 sm:h-9 px-2 sm:px-3",children:[(0,a.jsx)(r.Upload,{className:"w-3 h-3 sm:w-4 sm:h-4 sm:mr-2"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Importar"})]}),d&&(0,a.jsxs)(t.Button,{onClick:d,className:"bg-primary text-primary-foreground hover:bg-primary/90 text-xs sm:text-sm h-8 sm:h-9 px-2 sm:px-3",children:[(0,a.jsx)(s.Plus,{className:"w-3 h-3 sm:w-4 sm:h-4 sm:mr-2"}),(0,a.jsx)("span",{className:"hidden xs:inline",children:l})]})]})]})}e.s(["PageHeader",()=>o])},3116,e=>{"use strict";let a=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>a],3116)},84762,e=>{"use strict";var a=e.i(43476),t=e.i(47163);function s({className:e,...s}){return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,t.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...s})}e.s(["Textarea",()=>s])},73884,e=>{"use strict";let a=(0,e.i(75254).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>a],73884)},83634,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(77395),r=e.i(38184),i=e.i(94179),o=e.i(67881),d=e.i(70065),l=e.i(23750),n=e.i(10708),c=e.i(84762),m=e.i(30374),u=e.i(62870),x=e.i(89505),h=e.i(55436),p=e.i(78894),b=e.i(69638),g=e.i(73884),v=e.i(3116);let j=[{id:"1",tipo:"ingreso",documento:"ING-2024-0045",fechaSolicitud:"2024-12-05",solicitante:"Carlos Pérez",motivo:"Error en cantidad recibida",estado:"pendiente"},{id:"2",tipo:"salida",documento:"SAL-2024-0123",fechaSolicitud:"2024-12-04",solicitante:"María López",motivo:"Pedido duplicado por error del sistema",estado:"aprobada",fechaResolucion:"2024-12-05",aprobador:"Admin Sistema"},{id:"3",tipo:"pedido",documento:"PED-2024-0089",fechaSolicitud:"2024-12-03",solicitante:"Juan García",motivo:"Cliente canceló el pedido",estado:"aprobada",fechaResolucion:"2024-12-04",aprobador:"Admin Sistema"},{id:"4",tipo:"ingreso",documento:"ING-2024-0042",fechaSolicitud:"2024-12-02",solicitante:"Ana Martínez",motivo:"Productos dañados en recepción",estado:"rechazada",fechaResolucion:"2024-12-03",aprobador:"Supervisor"},{id:"5",tipo:"inventario",documento:"INV-2024-0012",fechaSolicitud:"2024-12-06",solicitante:"Pedro Sánchez",motivo:"Conteo erróneo, requiere reconteo",estado:"pendiente"}];function f(){let[e,f]=(0,t.useState)(j),[N,y]=(0,t.useState)(!1),[C,S]=(0,t.useState)(null),[w,k]=(0,t.useState)("todos"),[I,z]=(0,t.useState)("todos"),[T,A]=(0,t.useState)(""),[D,P]=(0,t.useState)({tipo:"",documento:"",motivo:""}),B={pendientes:e.filter(e=>"pendiente"===e.estado).length,aprobadas:e.filter(e=>"aprobada"===e.estado).length,rechazadas:e.filter(e=>"rechazada"===e.estado).length,total:e.length},L=e.filter(e=>{let a="todos"===w||e.estado===w,t="todos"===I||e.tipo===I,s=e.documento.toLowerCase().includes(T.toLowerCase())||e.solicitante.toLowerCase().includes(T.toLowerCase());return a&&t&&s}),R=[{key:"tipo",label:"Tipo",render:e=>(0,a.jsx)(i.Badge,{variant:"outline",className:"ingreso"===e.tipo?"border-blue-500 text-blue-500":"salida"===e.tipo?"border-orange-500 text-orange-500":"pedido"===e.tipo?"border-purple-500 text-purple-500":"border-green-500 text-green-500",children:e.tipo.charAt(0).toUpperCase()+e.tipo.slice(1)})},{key:"documento",label:"Documento"},{key:"fechaSolicitud",label:"Fecha Solicitud"},{key:"solicitante",label:"Solicitante"},{key:"motivo",label:"Motivo"},{key:"estado",label:"Estado",render:e=>(0,a.jsxs)(i.Badge,{className:"pendiente"===e.estado?"bg-yellow-600":"aprobada"===e.estado?"bg-green-600":"bg-red-600",children:["pendiente"===e.estado&&(0,a.jsx)(v.Clock,{className:"w-3 h-3 mr-1"}),"aprobada"===e.estado&&(0,a.jsx)(b.CheckCircle,{className:"w-3 h-3 mr-1"}),"rechazada"===e.estado&&(0,a.jsx)(g.XCircle,{className:"w-3 h-3 mr-1"}),e.estado.charAt(0).toUpperCase()+e.estado.slice(1)]})}];return(0,a.jsxs)(s.MainLayout,{children:[(0,a.jsx)(r.PageHeader,{title:"Gestión de Anulaciones",description:"Solicitudes de anulación de documentos",onNew:()=>{P({tipo:"",documento:"",motivo:""}),y(!0)},newLabel:"Nueva Solicitud"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsx)(d.Card,{className:"bg-yellow-500/10 border-yellow-500/30",children:(0,a.jsx)(d.CardContent,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(v.Clock,{className:"w-8 h-8 text-yellow-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-500",children:B.pendientes}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pendientes"})]})]})})}),(0,a.jsx)(d.Card,{className:"bg-green-500/10 border-green-500/30",children:(0,a.jsx)(d.CardContent,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(b.CheckCircle,{className:"w-8 h-8 text-green-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-green-500",children:B.aprobadas}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Aprobadas"})]})]})})}),(0,a.jsx)(d.Card,{className:"bg-red-500/10 border-red-500/30",children:(0,a.jsx)(d.CardContent,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(g.XCircle,{className:"w-8 h-8 text-red-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-red-500",children:B.rechazadas}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Rechazadas"})]})]})})}),(0,a.jsx)(d.Card,{className:"bg-blue-500/10 border-blue-500/30",children:(0,a.jsx)(d.CardContent,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(x.FileX,{className:"w-8 h-8 text-blue-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-500",children:B.total}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total"})]})]})})})]}),(0,a.jsx)(d.Card,{className:"mb-6",children:(0,a.jsx)(d.CardContent,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsx)("div",{className:"flex-1 min-w-[200px]",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(h.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,a.jsx)(l.Input,{placeholder:"Buscar por documento o solicitante...",value:T,onChange:e=>A(e.target.value),className:"pl-10 bg-secondary border-border"})]})}),(0,a.jsxs)(u.Select,{value:I,onValueChange:z,children:[(0,a.jsx)(u.SelectTrigger,{className:"w-[150px] bg-secondary border-border",children:(0,a.jsx)(u.SelectValue,{placeholder:"Tipo"})}),(0,a.jsxs)(u.SelectContent,{children:[(0,a.jsx)(u.SelectItem,{value:"todos",children:"Todos los tipos"}),(0,a.jsx)(u.SelectItem,{value:"ingreso",children:"Ingreso"}),(0,a.jsx)(u.SelectItem,{value:"salida",children:"Salida"}),(0,a.jsx)(u.SelectItem,{value:"pedido",children:"Pedido"}),(0,a.jsx)(u.SelectItem,{value:"inventario",children:"Inventario"})]})]}),(0,a.jsxs)(u.Select,{value:w,onValueChange:k,children:[(0,a.jsx)(u.SelectTrigger,{className:"w-[150px] bg-secondary border-border",children:(0,a.jsx)(u.SelectValue,{placeholder:"Estado"})}),(0,a.jsxs)(u.SelectContent,{children:[(0,a.jsx)(u.SelectItem,{value:"todos",children:"Todos"}),(0,a.jsx)(u.SelectItem,{value:"pendiente",children:"Pendiente"}),(0,a.jsx)(u.SelectItem,{value:"aprobada",children:"Aprobada"}),(0,a.jsx)(u.SelectItem,{value:"rechazada",children:"Rechazada"})]})]})]})})}),(0,a.jsx)(d.Card,{children:(0,a.jsx)(d.CardContent,{className:"p-0",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-border bg-muted/50",children:[R.map(e=>(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-muted-foreground",children:e.label},e.key)),(0,a.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium text-muted-foreground",children:"Acciones"})]})}),(0,a.jsx)("tbody",{children:L.map(t=>(0,a.jsxs)("tr",{className:"border-b border-border hover:bg-muted/30",children:[R.map(e=>(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:e.render?e.render(t):t[e.key]},e.key)),(0,a.jsxs)("td",{className:"px-4 py-3 text-right",children:["pendiente"===t.estado&&(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsxs)(o.Button,{size:"sm",variant:"outline",className:"border-green-500 text-green-500 hover:bg-green-500/10 bg-transparent",onClick:()=>{f(e.map(e=>e.id===t.id?{...e,estado:"aprobada",fechaResolucion:new Date().toISOString().split("T")[0],aprobador:"Admin"}:e))},children:[(0,a.jsx)(b.CheckCircle,{className:"w-4 h-4 mr-1"}),"Aprobar"]}),(0,a.jsxs)(o.Button,{size:"sm",variant:"outline",className:"border-red-500 text-red-500 hover:bg-red-500/10 bg-transparent",onClick:()=>{f(e.map(e=>e.id===t.id?{...e,estado:"rechazada",fechaResolucion:new Date().toISOString().split("T")[0],aprobador:"Admin"}:e))},children:[(0,a.jsx)(g.XCircle,{className:"w-4 h-4 mr-1"}),"Rechazar"]})]}),"pendiente"!==t.estado&&(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[t.aprobador," - ",t.fechaResolucion]})]})]},t.id))})]})})})}),(0,a.jsx)(m.Dialog,{open:N,onOpenChange:y,children:(0,a.jsxs)(m.DialogContent,{className:"bg-card border-border",children:[(0,a.jsx)(m.DialogHeader,{children:(0,a.jsx)(m.DialogTitle,{children:"Nueva Solicitud de Anulación"})}),(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Tipo de Documento *"}),(0,a.jsxs)(u.Select,{value:D.tipo,onValueChange:e=>P({...D,tipo:e}),children:[(0,a.jsx)(u.SelectTrigger,{className:"bg-secondary border-border",children:(0,a.jsx)(u.SelectValue,{placeholder:"Seleccionar tipo"})}),(0,a.jsxs)(u.SelectContent,{children:[(0,a.jsx)(u.SelectItem,{value:"ingreso",children:"Ingreso"}),(0,a.jsx)(u.SelectItem,{value:"salida",children:"Salida"}),(0,a.jsx)(u.SelectItem,{value:"pedido",children:"Pedido"}),(0,a.jsx)(u.SelectItem,{value:"inventario",children:"Inventario"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"documento",children:"Número de Documento *"}),(0,a.jsx)(l.Input,{id:"documento",value:D.documento,onChange:e=>P({...D,documento:e.target.value}),placeholder:"Ej: ING-2024-0045",className:"bg-secondary border-border"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"motivo",children:"Motivo de Anulación *"}),(0,a.jsx)(c.Textarea,{id:"motivo",value:D.motivo,onChange:e=>P({...D,motivo:e.target.value}),placeholder:"Describa el motivo de la anulación...",className:"bg-secondary border-border min-h-[100px]"})]}),(0,a.jsx)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(p.AlertTriangle,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),(0,a.jsx)("p",{className:"text-sm text-yellow-500",children:"La anulación quedará pendiente de aprobación por un supervisor. Una vez aprobada, los cambios serán irreversibles."})]})})]}),(0,a.jsxs)(m.DialogFooter,{children:[(0,a.jsx)(o.Button,{variant:"outline",onClick:()=>y(!1),children:"Cancelar"}),(0,a.jsx)(o.Button,{onClick:()=>{f([{id:String(Date.now()),tipo:D.tipo,documento:D.documento,fechaSolicitud:new Date().toISOString().split("T")[0],solicitante:"Usuario Actual",motivo:D.motivo,estado:"pendiente"},...e]),y(!1)},disabled:!D.tipo||!D.documento||!D.motivo,className:"bg-orange-500 hover:bg-orange-600",children:"Enviar Solicitud"})]})]})})]})}e.s(["default",()=>f])}]);