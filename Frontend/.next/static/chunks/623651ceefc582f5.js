(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";let t=(0,e.i(75254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},33785,e=>{"use strict";let t=(0,e.i(75254).default)("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);e.s(["Warehouse",()=>t],33785)},67881,91918,25913,e=>{"use strict";var t=e.i(43476),a=e.i(71645);function r(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var s=Symbol.for("react.lazy"),n=a[" use ".trim().toString()];function i(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===s&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function l(e){var s;let l,o=(s=e,(l=a.forwardRef((e,t)=>{let{children:s,...l}=e;if(i(s)&&"function"==typeof n&&(s=n(s._payload)),a.isValidElement(s)){var o;let e,n,i=(o=s,(n=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(n=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),d=function(e,t){let a={...t};for(let r in t){let s=e[r],n=t[r];/^on[A-Z]/.test(r)?s&&n?a[r]=(...e)=>{let t=n(...e);return s(...e),t}:s&&(a[r]=s):"style"===r?a[r]={...s,...n}:"className"===r&&(a[r]=[s,n].filter(Boolean).join(" "))}return{...e,...a}}(l,s.props);return s.type!==a.Fragment&&(d.ref=t?function(...e){return t=>{let a=!1,s=e.map(e=>{let s=r(e,t);return a||"function"!=typeof s||(a=!0),s});if(a)return()=>{for(let t=0;t<s.length;t++){let a=s[t];"function"==typeof a?a():r(e[t],null)}}}}(t,i):i),a.cloneElement(s,d)}return a.Children.count(s)>1?a.Children.only(null):null})).displayName=`${s}.SlotClone`,l),d=a.forwardRef((e,r)=>{let{children:s,...l}=e;i(s)&&"function"==typeof n&&(s=n(s._payload));let d=a.Children.toArray(s),u=d.find(c);if(u){let e=u.props.children,s=d.map(t=>t!==u?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,t.jsx)(o,{...l,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,s):null})}return(0,t.jsx)(o,{...l,ref:r,children:s})});return d.displayName=`${e}.Slot`,d}var o=l("Slot"),d=Symbol("radix.slottable");function c(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}e.s(["Slot",()=>o,"createSlot",()=>l],91918);var u=e.i(7670);let g=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,m=u.clsx,h=(e,t)=>a=>{var r;if((null==t?void 0:t.variants)==null)return m(e,null==a?void 0:a.class,null==a?void 0:a.className);let{variants:s,defaultVariants:n}=t,i=Object.keys(s).map(e=>{let t=null==a?void 0:a[e],r=null==n?void 0:n[e];if(null===t)return null;let i=g(t)||g(r);return s[e][i]}),l=a&&Object.entries(a).reduce((e,t)=>{let[a,r]=t;return void 0===r||(e[a]=r),e},{});return m(e,i,null==t||null==(r=t.compoundVariants)?void 0:r.reduce((e,t)=>{let{class:a,className:r,...s}=t;return Object.entries(s).every(e=>{let[t,a]=e;return Array.isArray(a)?a.includes({...n,...l}[t]):({...n,...l})[t]===a})?[...e,a,r]:e},[]),null==a?void 0:a.class,null==a?void 0:a.className)};e.s(["cva",0,h],25913);var p=e.i(47163);let f=h("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function x({className:e,variant:a,size:r,asChild:s=!1,...n}){return(0,t.jsx)(s?o:"button",{"data-slot":"button",className:(0,p.cn)(f({variant:a,size:r,className:e})),...n})}e.s(["Button",()=>x],67881)},88844,e=>{"use strict";let t=(0,e.i(75254).default)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>t],88844)},70065,e=>{"use strict";var t=e.i(43476),a=e.i(47163);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function s({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function n({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...r})}function i({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...r})}function l({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...r})}e.s(["Card",()=>r,"CardContent",()=>l,"CardDescription",()=>i,"CardHeader",()=>s,"CardTitle",()=>n])},31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},72520,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],72520)},88911,e=>{"use strict";var t=e.i(68834),a=e.i(79473);let r="http://localhost:5501/nota-ingreso",s={0:"paletizado",1:"validado",2:"almacenado",3:"anulado"};function n(e){return{id:String(e.id),documento:e.nroDocumento,tipo:"produccion",origen:e.origen||"",fecha:e.fechaIngreso?new Date(e.fechaIngreso).toLocaleDateString("es-ES"):"",items:e.detalles.map(e=>({id:String(e.id),producto:e.codItem,descripcion:e.codItem,cantidad:Number(e.cantidad),lote:e.lote||"",vencimiento:e.fechaVencimiento||""})),estado:s[e.estado]||"paletizado",observaciones:e.observacion||"",usuarioCreacion:e.usuario,almacenId:e.almacen?String(e.almacen.id):""}}let i={async getAll(){let e=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!e.ok)throw Error("Error al obtener los ingresos");return await e.json()},async getById(e){let t=await fetch(`${r}/${e}`);if(!t.ok)throw Error("Ingreso no encontrado");return await t.json()},async create(e){let t=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).message||"Error al crear el ingreso");return await t.json()}},l=(0,t.create)()((0,a.persist)((e,t)=>({ingresos:[],selectedAlmacenId:null,isLoading:!1,error:null,getIngresos:e=>{let a=t(),r=e||a.selectedAlmacenId;return r?a.ingresos.filter(e=>e.almacenId===r):a.ingresos},addIngreso:t=>{e(e=>({ingresos:[t,...e.ingresos]}))},setIngresos:t=>{e({ingresos:t})},fetchIngresos:async()=>{e({isLoading:!0,error:null});try{let t=(await i.getAll()).map(n);e({ingresos:t,isLoading:!1})}catch(t){e({error:t instanceof Error?t.message:"Error al cargar ingresos",isLoading:!1})}},updateIngresoStatus:(t,a)=>{e(e=>({ingresos:e.ingresos.map(e=>e.id===t?{...e,estado:a}:e)}))},simulateValidation:(t,a)=>{e(e=>({ingresos:e.ingresos.map(e=>e.id===t?{...e,estado:"validado",usuarioValidacion:a}:e)}))},simulateAlmacenaje:(t,a)=>{e(e=>({ingresos:e.ingresos.map(e=>e.id===t?{...e,estado:"almacenado",usuarioAlmacenaje:a}:e)}))},setSelectedAlmacen:t=>{e({selectedAlmacenId:t})},getStatsCounts:e=>{let a=t().ingresos.filter(t=>t.almacenId===e);return{paletizado:a.filter(e=>"paletizado"===e.estado).length,validado:a.filter(e=>"validado"===e.estado).length,almacenado:a.filter(e=>"almacenado"===e.estado).length,anulado:a.filter(e=>"anulado"===e.estado).length}}}),{name:"sgla-ingresos-storage"}));e.s(["useIngresosStore",0,l],88911)},88988,e=>{"use strict";var t=e.i(43476),a=e.i(18566),r=e.i(71645),s=e.i(70065),n=e.i(67881),i=e.i(88911),l=e.i(45665),o=e.i(33785);let d=(0,e.i(75254).default)("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);var c=e.i(88844),u=e.i(63209),g=e.i(31278),m=e.i(72520);let h=[{id:"001",nombre:"Centro de Distribución Principal",ubicacion:"Zona Industrial Sur",tipo:"distribucion",capacidad:5e3,ocupacion:3400,icon:(0,t.jsx)(o.Warehouse,{className:"w-8 h-8"})},{id:"002",nombre:"Almacén Refrigerado",ubicacion:"Zona Industrial Sur",tipo:"refrigerado",capacidad:1e3,ocupacion:780,icon:(0,t.jsx)(d,{className:"w-8 h-8"})},{id:"003",nombre:"Bodega de Productos",ubicacion:"Centro",tipo:"general",capacidad:2e3,ocupacion:1200,icon:(0,t.jsx)(c.Package,{className:"w-8 h-8"})},{id:"004",nombre:"Almacén Especial",ubicacion:"Zona Industrial Norte",tipo:"especial",capacidad:500,ocupacion:150,icon:(0,t.jsx)(u.AlertCircle,{className:"w-8 h-8"})}];function p(){let e=(0,a.useRouter)(),o=(0,i.useIngresosStore)(e=>e.setSelectedAlmacen),{isAuthenticated:d}=(0,l.useAdminStore)(),[c,u]=(0,r.useState)(!1),[p,f]=(0,r.useState)(null);(0,r.useEffect)(()=>{d||e.push("/login")},[d,e]);let x=t=>{u(!0),f(t),setTimeout(()=>{o(t),e.push("/ingresos")},600)};return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg%20width%3D%2260%22%20height%3D%2260%22%20viewBox%3D%220%200%2060%2060%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cg%20fill%3D%22%239C92AC%22%20fill-opacity%3D%220.03%22%3E%3Cpath%20d%3D%22M36%2034v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6%2034v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6%204V0H4v4H0v2h4v4h2V6h4V4H6z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E')] opacity-50"}),(0,t.jsxs)("div",{className:"relative w-full min-h-screen flex flex-col p-4 sm:p-6 lg:p-8",children:[(0,t.jsx)("div",{className:"mb-8 pt-4",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold text-white",children:"Seleccionar Almacén"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm sm:text-base mt-2",children:"Elige el almacén en el que deseas trabajar. Los datos están completamente aislados por almacén."})]})}),(0,t.jsx)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 max-w-7xl mx-auto w-full",children:h.map(e=>{let a=Math.round(e.ocupacion/e.capacidad*100),r=e.capacidad-e.ocupacion,i=p===e.id;return(0,t.jsxs)(s.Card,{className:`bg-slate-800/50 border-slate-700/50 hover:border-orange-500/50 hover:shadow-lg hover:shadow-orange-500/10 transition-all cursor-pointer group overflow-hidden backdrop-blur-sm ${i?"border-orange-500 shadow-lg shadow-orange-500/20":""}`,onClick:()=>x(e.id),children:[(0,t.jsx)(s.CardHeader,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-orange-500 flex-shrink-0 group-hover:scale-110 transition-transform",children:e.icon}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)(s.CardTitle,{className:"text-base text-white truncate",children:e.nombre}),(0,t.jsx)(s.CardDescription,{className:"text-xs text-slate-400 truncate",children:e.ubicacion})]})]}),i&&(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(g.Loader2,{className:"w-5 h-5 text-orange-500 animate-spin"})})]})}),(0,t.jsxs)(s.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Ocupación"}),(0,t.jsxs)("span",{className:"font-semibold text-white",children:[a,"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-slate-700/50 rounded-full h-2.5 overflow-hidden",children:(0,t.jsx)("div",{className:`h-full rounded-full transition-all duration-500 ${a>90?"bg-red-500":a>70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${a}%`}})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,t.jsxs)("div",{className:"p-2.5 bg-slate-700/30 rounded-lg border border-slate-600/50",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs font-medium",children:"Usado"}),(0,t.jsx)("p",{className:"font-bold text-lg text-white",children:e.ocupacion})]}),(0,t.jsxs)("div",{className:"p-2.5 bg-slate-700/30 rounded-lg border border-slate-600/50",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs font-medium",children:"Disponible"}),(0,t.jsx)("p",{className:"font-bold text-lg text-white",children:r})]})]}),(0,t.jsx)(n.Button,{onClick:()=>x(e.id),disabled:i,className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-medium transition-all group/btn",children:i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Entrando..."]}):(0,t.jsxs)(t.Fragment,{children:["Acceder",(0,t.jsx)(m.ArrowRight,{className:"ml-2 h-4 w-4 group-hover/btn:translate-x-1 transition-transform"})]})})]})]},e.id)})}),(0,t.jsx)("div",{className:"mt-8 text-center text-slate-500 text-xs",children:"© 2025 SGLA WMS - Soluciones Logísticas Integrales"})]})]})}e.s(["default",()=>p],88988)}]);